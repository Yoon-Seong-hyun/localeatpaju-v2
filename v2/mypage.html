<!DOCTYPE html>
<html lang="ko">

<head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>마이페이지 - 로컬잇파주</title>
     <link rel="stylesheet" href="css/style.css">
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body style="background-color: #f9f9f9;">

     <!-- Simple Header -->
     <header class="header" style="background: white; border-bottom: 1px solid #eee; position: relative;">
          <div class="container flex justify-between items-center" style="height: 80px;">
               <a href="index.html" class="logo">
                    <h3
                         style="color: var(--color-primary); font-weight: 800; font-family: 'Poppins', sans-serif; font-size: 1.5rem;">
                         LOCAL<span style="color: #d32f2f;">e</span><span style="color: #f57f17;">a</span><span
                              style="color: #fbc02d;">t</span>PAJU
                    </h3>
               </a>
               <nav class="nav-menu flex gap-lg items-center">
                    <a href="index.html" class="nav-link">홈으로 돌아가기</a>
               </nav>
          </div>
     </header>

     <div class="container" style="padding: 60px 0;">
          <h2 style="font-family: var(--font-serif); font-size: 2rem; margin-bottom: 40px;">마이페이지</h2>

          <div class="grid" style="display: grid; grid-template-columns: 250px 1fr; gap: 40px;">

               <!-- Sidebar -->
               <div
                    style="background: white; padding: 20px; border-radius: 12px; height: fit-content; box-shadow: 0 4px 10px rgba(0,0,0,0.05);">
                    <ul style="list-style: none; padding: 0;">
                         <li style="margin-bottom: 15px;"><a href="#"
                                   style="font-weight: 700; color: var(--color-primary);">내 정보 관리</a></li>
                         <li style="margin-bottom: 15px;"><a href="#" style="color: #666;">주문 내역</a></li>
                         <li style="margin-bottom: 15px;"><a href="#" style="color: #666;">찜한 목록</a></li>
                         <li><a href="#" onclick="logout()" style="color: #d32f2f;">로그아웃</a></li>
                    </ul>
               </div>

               <!-- Content -->
               <div
                    style="background: white; padding: 40px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.05);">
                    <h3
                         style="font-size: 1.2rem; margin-bottom: 30px; border-bottom: 2px solid #eee; padding-bottom: 15px;">
                         기본 정보</h3>

                    <form id="profile-form">
                         <div style="margin-bottom: 20px;">
                              <label
                                   style="display: block; margin-bottom: 8px; font-weight: 500; color: #555;">이름</label>
                              <input type="text" id="user-name" value=""
                                   style="width: 100%; max-width: 400px; padding: 12px; border: 1px solid #ddd; border-radius: 8px;">
                         </div>
                         <div style="margin-bottom: 20px;">
                              <label
                                   style="display: block; margin-bottom: 8px; font-weight: 500; color: #555;">이메일</label>
                              <input type="email" id="user-email" value="" readonly disabled
                                   style="width: 100%; max-width: 400px; padding: 12px; border: 1px solid #eee; border-radius: 8px; background: #f5f5f5; color: #999;">
                         </div>
                         <div style="margin-bottom: 30px;">
                              <label style="display: block; margin-bottom: 8px; font-weight: 500; color: #555;">계정
                                   유형</label>
                              <span id="user-type"
                                   style="padding: 4px 12px; background: #e3f2fd; color: #1565c0; border-radius: 20px; font-size: 0.85rem; font-weight: 600;">Email</span>
                         </div>

                         <button type="button" onclick="saveProfile()" class="btn btn-primary">변경사항 저장</button>
                    </form>
               </div>
          </div>
     </div>

     <script>
          // Check Auth
          const userStr = localStorage.getItem('localeat_user');
          if (!userStr) {
               alert('로그인이 필요합니다.');
               window.location.href = 'login.html';
          }

          const user = JSON.parse(userStr);
          document.getElementById('user-name').value = user.name;
          document.getElementById('user-email').value = user.email;
          document.getElementById('user-type').innerText = user.type === 'google' ? 'Google 계정' : '일반 계정';

          function saveProfile() {
               const newName = document.getElementById('user-name').value;
               user.name = newName;
               localStorage.setItem('localeat_user', JSON.stringify(user));
               alert('정보가 수정되었습니다.');
          }

          function logout() {
               localStorage.removeItem('localeat_user');
               alert('로그아웃 되었습니다.');
               window.location.href = 'index.html';
          }
     </script>
</body>

</html>